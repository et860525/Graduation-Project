{% extends 'base.html' %} 

{% load static %} 

{% block title %}Search Stock{%endblock %} 

{% block content %}
<style>
  .errorlist {
    display: none;
  }
  .ui-autocomplete {
    max-height: 400px;
    overflow-y: auto;
    /* prevent horizontal scrollbar */
    overflow-x: hidden;
  }
  /* IE 6 doesn't support max-height
   * we use height instead, but this forces the menu to always be this tall
   */
  * html .ui-autocomplete {
    height: 100px;
  }
  @import url("https://fonts.googleapis.com/css2?family=Poppins:weight@100;200;300;400;500;600;700;800&display=swap");

  body {
      background-color: #eee;
      font-family: "Poppins", sans-serif;
      font-weight: 300
  }

  .height {
      height: 100vh
  }

  .search {
      position: relative;
      box-shadow: 0 0 40px rgba(51, 51, 51, .1)
  }

  .search input {
      height: 60px;
      text-indent: 25px;
      border: 2px solid #d6d4d4
  }

  .search input:focus {
      box-shadow: none;
      border: 2px solid blue
  }

  .search .fa-search {
      position: absolute;
      top: 20px;
      left: 16px
  }

  .search button {
      position: absolute;
      top: 5px;
      right: 5px;
      height: 50px;
      width: 110px;
      background: blue
  }
</style>

<nav class="navbar navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand" href="{% url 'index' %}">
      <img
        src="{% static 'images/favicon.ico' %}"
        alt=""
        width="40"
        height="40"
      />
    </a>
  </div>
</nav>

<div class="container">
  <div class="mt-3 text-center">
    <h1 class="mb-4 text-secondary">Find Stock</h1>
    <div class="search-area">
      <form action="" method="POST">
        {% csrf_token %}
        <div class="search">
            <i class="fa fa-search"></i>
            <div class="mb-3">
              <div class="form-group">{{ form.as_p }}</div>
            </div>
            <button type="submit" class="btn btn-primary btn-lg">Search</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  $( function() {
    var availableTags = [
        {% for stock in stock_list_Symbol %}
            "{{ stock }}",
        {% endfor %}
    ];
    $( "#id_stock_name" ).autocomplete({
      source: availableTags
    });
  });
</script>
{% endblock %}
